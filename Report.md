# ИДЗ №4
## Гречко Андрей | Бпи-218 | Вариант 16


### Условие задачи
16. Задача о нелюдимых садовниках. Имеется пустой участок земли (двумерный массив) и план сада, разбитого на отдельные квадраты. От 10 до 30 процентов площади сада заняты прудами или камнями. То есть недоступны для ухаживания. Эти квадраты располагаются на плане произвольным образом. Ухаживание за садом выполняют два садовника, которые не хотят встречаться друг другом (то есть, одновременно появляться в одном и том же квадрате). Первый садовник начинает работу с верхнего левого угла сада и перемещается слева направо, сделав ряд, он спускается вниз и идет в обратном направлении, пропуская обработанные участки. Второй садовник начинает работу с нижнего правого угла сада и перемещается снизу вверх, сделав ряд, он перемещается влево и также идет в обратную сторону. Если садовник видит, что участок сада уже обработан другим садовником или является необрабатываемым, он идет дальше. Если по пути какой-то участок занят другим садовником, то садовник ожидает когда участок освободится, чтобы пройти дальше. Садовники должны работать одновременно со скоростями, определяемыми как параметры задачи. Прохождение через любой квадрат занимает некоторое время, которое задается константой, меньшей чем времена обработки и принимается за единицу времени. Создать многопоточное приложение, моделирующее работу садовников. При решении задачи использовать мьютексы.

### Запуск
```bash
$ g++ main.cpp
$ ./a.out *agrs* 
```
#### Аргументы
* Тип ввода
    * terminal - ввод из командной строки
        * ```bash
          $ ./a.out terminal [размер_стороны_сада] [время_работы_над_необработанным_участком] [время_прохождения_по_необрабатываемому_участку] [путь_к_выходному_файлу]
          ``` 
    * file - ввод из файла
        * ```bash
          $ ./a.out file [путь_к_входному_файлу]
          ``` 
        * Формат файла:
            * Первая строка - размер стороны сада
            * Вторая строка - время работы над необработанным участком
            * Третья строка - время прохождения по необрабатываемому участку
            * Четвертая строка - путь к выходному файлу
    * console - ввод из консоли
        * ```bash
          $ ./a.out console
          ```
        * Далее программа спросит необходимые параметры

### Входные данные
На вход программа получает только время работы над пустым участком, время прохождения по необрабатываемому участку, размер стороны сада и путь к выходному файлу. Сам сад генерируется случайным образом в соответствии с заданием.

### Модель
Модель параллельных вычислений, используемая при разработке многопоточной программы: Итеративный параллелизм.

### Сущности предметной области и их отражение в программе
* Сад - матрица N*N, где N - размер стороны сада
* Обрабатываемый участок сада - 1
* Необрабатываемый участок сада - -1
* Необработанный участок сада - 0
* Садовник - поток, который обрабатывает сад (у первого метка - 2, у второго - 3)

### Сценарий взаимодействия сущностей
Представлен в виде комментариев в коде.

### Тесты
Различные тестовые прогоны представлены файлами вида input*.txt и output*.txt, где * - номер теста.